# Руководство по конфигурации проекта

## Обзор

Это руководство предоставляет информацию о файле `custom-environment-variables.json` и специфических методах, используемых в проекте.

## Переменные окружения

Файл `custom-environment-variables.json` содержит объекты со значениями, которые необходимо добавить на сервер в подах/контейнерах. Это сделано для безопасности и для поддержки различных окружений, если это потребуется.

| Переменная | Описание |
|-----------|----------|
| `TWITTERAPI_IO_KEY` | Ключ от аккаунта [twitterapi.io](https://twitterapi.io/). Нужен для проверки наличия у пользователя необходимого твита. |
| `PROJECT_START_DATE` | Дата старта проекта в формате '2025-06-30T18:00:00.000Z'. |
| `TELEGRAM_BOT_TOKEN` | Токен бота в Telegram, который будет отправлять информацию о балансах в чат. |
| `TELEGRAM_BOT_NAME` | Имя бота в Telegram, который будет отправлять информацию о балансах в чат. |
| `SERVICE_SOCKETS` | Все, что касается подобных переменных, нужно обсуждать с DevOps. |
| `DEBANK_API_KEY` | Нужен для получения всех токенов пользователя со всех чейнов. |
| `GOLDRUSH_IO_KEY` | Нужен для заполнения исторических холдеров в методе `fillSnapshotsBeforeStartProject`. Читайте об этом методе ниже. |

## Методы

### `fillSnapshotsBeforeStartProject`

Когда будет определено точное время старта проекта, выполните метод `fillSnapshotsBeforeStartProject`. Это можно сделать локально и перенести дамп на продакшен. Это нужно для того, чтобы получить холдеров за 3 месяца до момента старта проекта. После выполнения закомментируйте или удалите метод.

### Быстрый тест

Если нужно сделать быстрый тест:

1. В файле `checkIn.utils.ts` закомментируйте первый метод и раскомментируйте второй.
2. В методе `differenceInMinutes` измените второй параметр на дату, с которой хотите начать тест (не забывайте про таймзоны).
3. Также измените в файле `rewards-snapshots.service.ts` в методе `updateHolderRewardsSnapshot` переменную:

```typescript
const diffInDays = holdingDays || differenceInDays(new Date(), lastSnapshot.date);
const diffInDays = holdingDays || differenceInMinutes(new Date(), lastSnapshot.date);
